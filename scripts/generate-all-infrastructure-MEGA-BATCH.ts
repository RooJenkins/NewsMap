import { PrismaClient } from '@prisma/client'

const prisma = new PrismaClient()

interface CountryData {
  name: string
  lat: number
  lng: number
  summary: string
  issues: string[]
}

// This mega batch will process all remaining countries in one go to speed up the process
const countries: CountryData[] = [
  // Batch 2: Countries 11-20
  {
    name: 'Bolivia',
    lat: -16.2902,
    lng: -63.5887,
    summary: "Bolivia's infrastructure reflects the challenge of serving a landlocked country with dramatic topography ranging from high-altitude altiplano to tropical lowlands. The lack of ocean access fundamentally shapes infrastructure priorities - highways and potential rail to Chilean or Peruvian ports represent economic lifelines. La Paz-El Alto, the world's highest de facto capital metropolitan area, sprawls across steep Andean slopes where infrastructure must accommodate extreme elevation changes. The cable car system, Mi Teleférico, demonstrates innovative urban transport that uses geography to advantage rather than fighting it. Yet overall infrastructure investment has lagged economic needs, with rural areas particularly underserved.\n\nThe highway network connects the country's regions but quality varies dramatically. The road from La Paz to the Yungas descends through hairpin turns that have earned it designation as the 'Death Road' - now mostly used by adventure tourists while a new highway carries most traffic. Lowland regions have better highway infrastructure with flatter terrain, particularly around Santa Cruz. However, during rainy seasons, many roads become impassable, cutting off communities. The absence of a comprehensive paved network means long-distance travel remains time-consuming and uncomfortable for most Bolivians.\n\nRailway infrastructure consists of disconnected networks in western highlands and eastern lowlands, with no connection between them. The railways that do operate move cargo more than passengers, particularly minerals from highland mines to export points. The infrastructure potential for connecting Bolivia to Chilean or Peruvian ports via rail remains unrealized, leaving truck transport as the primary option despite inefficiency. Some tourist trains operate, but everyday passenger rail is essentially absent.\n\nLa Paz's Mi Teleférico cable car network represents Bolivia's most notable infrastructure achievement in recent decades. The system provides rapid transit across the city's dramatic topography, moving residents between El Alto and central La Paz far faster than surface roads could. Expansion continues adding lines that serve both transportation and tourism functions. The infrastructure demonstrates that middle-income countries can build modern transit systems when solutions are matched to specific geographic contexts. However, most Bolivian cities lack comparable transit infrastructure.\n\nAirport infrastructure includes El Alto International Airport, one of the world's highest, which serves La Paz. The thin air creates takeoff and landing challenges requiring infrastructure adaptations. Viru Viru International Airport serves Santa Cruz with modern facilities. Regional airports provide connectivity to remote areas with varying levels of infrastructure, from reasonable facilities to basic airstrips. Geographic dispersion and poor road connectivity make air travel crucial despite costs that limit access for lower-income Bolivians.\n\nEnergy infrastructure relies heavily on natural gas resources in the eastern lowlands. The pipeline infrastructure exports gas to Brazil and Argentina, generating crucial revenues. Domestic electricity generation uses gas and some hydro resources, though power access remains limited in rural areas. The potential for renewable energy, particularly solar in the high-altitude altiplano where sunshine is intense and consistent, remains largely undeveloped due to lack of infrastructure investment.\n\nDigital infrastructure in La Paz, Santa Cruz, and other cities provides basic connectivity with mobile networks covering urban areas. However, internet speeds lag behind regional peers, and rural connectivity is minimal. The government's digital infrastructure programs have expanded access gradually, but implementation faces challenges from difficult terrain and dispersed populations.\n\nWater infrastructure in La Paz faces pressure from glacial melt that supplies the city. Climate change threatens the long-term sustainability of water sources, requiring infrastructure adaptation that hasn't been adequately planned. Wastewater treatment infrastructure is inadequate, with much sewage discharged untreated into Lake Titicaca and other waterways.",
    issues: [
      'Landlocked status requiring infrastructure focus on connections to ports',
      'Highway network quality highly variable with rainy season closures',
      'Railway infrastructure disconnected between regions',
      'Rural areas lacking basic infrastructure access',
      'Water infrastructure threatened by climate change and glacial melt'
    ]
  },
  {
    name: 'Paraguay',
    lat: -23.4425,
    lng: -58.4438,
    summary: "Paraguay's infrastructure development reflects a landlocked country dependent on river access to the sea via the Paraguay and Paraná rivers. The Port of Asunción and other river facilities provide the only alternatives to relying on roads through Argentina or Brazil to reach ocean ports. This geography fundamentally shapes infrastructure priorities - river navigation, highways to neighbors, and ensuring access to regional trade routes. The country's small economy limits resources available for infrastructure investment, yet the hydroelectric dams at Itaipú and Yacyretá demonstrate that Paraguay can participate in mega-projects when regional cooperation enables cost-sharing.\n\nThe highway network connects Asunción to Ciudad del Este on the Brazilian border and Encarnación on the Argentine border with reasonable roads, though quality degrades significantly on secondary routes. The Trans-Chaco Highway provides the only paved road across the western Chaco region to Bolivia, a crucial regional connection through sparsely populated semi-arid terrain. Rural roads often become impassable during rainy seasons, isolating agricultural communities from markets. The infrastructure that exists concentrates in the eastern region where most Paraguayans live, leaving the Chaco underserved despite comprising most of the country's territory.\n\nRailway infrastructure has essentially vanished, with the historic network abandoned after privatization attempts failed. Some tracks remain but passenger and freight rail operations have ceased. The infrastructure sits unused, a reminder of how systems can collapse without sustained investment and political commitment. The distances involved and landlocked geography would make rail infrastructure valuable for both domestic transport and connections to Argentine and Brazilian networks, yet rebuilding appears unlikely given resource constraints.\n\nAsunción's urban infrastructure reflects a capital that has grown without corresponding investment in transit systems. Buses provide public transport on congested streets, while increasing car ownership adds to traffic pressures. The city lacks rail transit or bus rapid transit, relying entirely on conventional buses. For a metropolitan area approaching 3 million people, the absence of more sophisticated transit infrastructure represents a developing constraint on quality of life and economic efficiency.\n\nSilvio Pettirossi International Airport in Asunción provides adequate facilities for a small country's international connections, though the infrastructure is modest by regional standards. Regional airports serve other cities with basic facilities. The landlocked geography and long distances to some destinations make air travel important, but the market size limits service frequency and competition.\n\nThe Itaipú and Yacyretá hydroelectric dams represent Paraguay's most significant infrastructure assets, providing abundant electricity and export revenues from power sold to Brazil and Argentina. The dams were built through binational projects that shared costs and outputs. The electricity infrastructure gives Paraguay energy abundance, though distribution to rural areas remains incomplete. The dependence on hydro power creates climate vulnerability if droughts reduce output.\n\nDigital infrastructure in Asunción and other cities provides reasonable mobile and fiber optic coverage, but rural areas have limited connectivity. Internet penetration remains below regional averages, and speeds are often slow. The government has promoted infrastructure expansion, but implementation proceeds gradually due to resource limitations.\n\nRiver port infrastructure at Asunción and other Paraguay River locations provides essential connectivity for a landlocked country. The infrastructure handles grain exports, imported fuel and consumer goods, and connections to downstream Argentine ports. However, river depth variations create seasonal navigation challenges, and infrastructure at ports requires modernization to handle efficiently.",
    issues: [
      'Landlocked status creating dependency on river and neighboring country infrastructure',
      'Railway network abandoned and non-functional',
      'Rural road infrastructure inadequate with seasonal closures',
      'Asunción lacking modern urban transit systems',
      'River navigation infrastructure vulnerable to seasonal depth variations'
    ]
  },
  {
    name: 'Uruguay',
    lat: -34.9011,
    lng: -56.1645,
    summary: "Uruguay's infrastructure benefits from the country's small size, relatively high income by regional standards, and stable governance that enables sustained planning. Montevideo concentrates about half the country's 3.5 million people, creating infrastructure demands that the capital handles adequately though not exceptionally. The challenge is maintaining quality infrastructure with limited economy of scale - projects that might be cost-effective in larger countries become expensive when serving small populations. The highway network connects all regions reasonably well, ports handle agricultural exports efficiently, and electricity infrastructure has successfully transitioned to renewable energy dominance. Yet fiscal constraints mean infrastructure improvement proceeds gradually rather than through transformative projects.\n\nThe highway network provides good connectivity between Montevideo and regional cities, with main routes generally well-maintained. Secondary roads vary in quality, and rural areas sometimes have unpaved roads that become difficult during wet weather. The small distances involved mean that even modest highway speeds enable reasonable travel times. Toll concessions operate some routes, maintaining infrastructure quality through private operation models. However, the limited traffic volumes make it challenging to justify major new highway construction.\n\nMontevideo's public transit relies entirely on buses, with no metro or rail-based system. For a capital of about 1.7 million metropolitan residents, this may be adequate, though traffic congestion has worsened as car ownership increases. The city has discussed bus rapid transit to improve efficiency, but implementation has been slow. The waterfront promenade and bike infrastructure demonstrate attention to alternative transport modes, yet the overall system remains bus and automobile-dependent.\n\nRailway infrastructure has declined to minimal freight operations and limited tourist trains. The network that once connected regions has been largely abandoned, with tracks removed or left to deteriorate. Passenger rail essentially doesn't exist, though the Uruguay-Argentina ferry connections provide some substitute for rail's role in regional connectivity. The small market size makes justifying rail infrastructure investment difficult, yet the absence of this option limits transport alternatives.\n\nPort infrastructure at Montevideo handles container transshipment, grain exports, and cruise ships with reasonable efficiency. The port benefits from deep natural harbor and strategic location for shipping routes. Free trade zone infrastructure has attracted regional distribution operations. However, competition from larger Argentine and Brazilian ports limits growth potential. Other ports including Colonia and Punta del Este serve ferry connections and tourism with adequate infrastructure.\n\nCarrasco International Airport in Montevideo was rebuilt with an award-winning terminal that provides excellent facilities relative to the country's size. Regional airports serve other cities with basic infrastructure. The small domestic market means most air travel is international, connecting primarily to Argentina, Brazil, and regional hubs.\n\nEnergy infrastructure represents a remarkable success story - Uruguay generates nearly 100% of electricity from renewable sources, primarily wind and hydroelectric. The infrastructure investment in wind farms and transmission lines transformed the energy mix in just over a decade. This demonstrates that even small countries can achieve energy transitions when political will and favorable resources align. The biomass and solar infrastructure further diversifies the renewable mix. However, the small scale means the system has limited resilience to prolonged droughts affecting hydro output.\n\nDigital infrastructure provides good fiber optic and 4G coverage in Montevideo and other cities, with government programs expanding access to rural areas. Uruguay ranks well regionally for internet penetration and speeds. The government's Plan Ceibal provided laptops to all school children, creating digital literacy infrastructure that supports broader connectivity use.",
    issues: [
      'Small economy limiting scale for major infrastructure projects',
      'Montevideo lacking rail-based urban transit',
      'Railway network largely abandoned',
      'Port infrastructure facing competition from larger regional facilities',
      'Infrastructure costs high relative to population served'
    ]
  },
  {
    name: 'Cuba',
    lat: 21.5218,
    lng: -77.7812,
    summary: "Cuba's infrastructure tells a story of systems built during different eras operating in various states of functionality and decay. Pre-revolution infrastructure from the 1950s and earlier, Soviet-era projects from the 1960s-80s, and limited recent investment from Venezuela, China, and European countries create a patchwork. The U.S. embargo limits access to equipment, spare parts, and financing that infrastructure maintenance requires. The economic system prioritizes some infrastructure like healthcare facilities while allowing roads and water systems to deteriorate. Urban infrastructure in Havana reveals buildings and streets that would be remarkable if maintained but instead crumble from decades of deferred repair.\n\nThe highway network includes the Central Highway built in the 1920s-30s that remains a major route across the island, though pavement quality has deteriorated badly. The newer autopista connects Havana to points east with better quality but still shows maintenance deficits. Secondary roads range from barely paved to dirt tracks. The small number of private vehicles means traffic volumes remain low by global standards, yet the roads that exist often feature potholes large enough to damage even the careful driver. The classic American cars that tourists photograph represent adaptation to infrastructure isolation - Cubans keep 1950s vehicles running because importing new ones has been impossible.\n\nRailway infrastructure operates minimally, with passenger trains connecting major cities at slow speeds on poorly maintained track. The trains themselves are aging Soviet-era rolling stock or occasional Chinese purchases. Freight rail moves sugar and other bulk cargo, but volumes have declined with the sugar industry's contraction. The infrastructure exists but functions far below potential due to underinvestment and maintenance deficits. The Hershey Electric Railway, a unique electric commuter line east of Havana, operates sporadically with century-old infrastructure.\n\nHavana's urban transit infrastructure relies on buses, many of them the distinctive 'camels' - trailer bodies pulled by truck cabs that were improvised during the 1990s Special Period fuel crisis. The system is overcrowded and unreliable, with people often waiting hours for buses. Some tramways existed historically but no longer operate. The Havana ferry across the harbor provides picturesque commuting for a few cents. For a capital of 2+ million, the transit infrastructure is remarkably basic.\n\nPort infrastructure at Havana, Mariel, and Santiago de Cuba handles limited international trade given the embargo and economic contraction. The Mariel Special Development Zone includes modernized port facilities built with Brazilian investment, intended to attract manufacturing and transshipment business. However, the embargo limits utility of even modern infrastructure. Other ports serve tourism cruise ships and limited cargo needs with varying infrastructure quality.\n\nJosé Martí International Airport in Havana provides the main international gateway with aging infrastructure that has seen some recent upgrades. Regional airports serve other cities and tourist destinations with basic facilities. The embargo affects ability to purchase modern equipment and spare parts, forcing workarounds that maintain operations without proper infrastructure support.\n\nElectricity infrastructure operates unreliably, with blackouts common as aging generation plants break down and fuel supplies fluctuate. The grid infrastructure dates largely from the Soviet era with inadequate maintenance and modernization. Most generation uses imported oil, creating vulnerability to supply disruptions. Solar and wind potential remains largely undeveloped despite renewable energy being logical for an island nation.\n\nDigital infrastructure lags dramatically, with internet access limited and expensive for most Cubans. The government controls telecommunications infrastructure, with political considerations affecting access more than technical or economic factors. Mobile coverage exists in cities but data speeds are slow. WiFi hotspots in parks became social gathering points when access expanded gradually in recent years. The government's control over digital infrastructure reflects its view of information access as political rather than a public good.",
    issues: [
      'U.S. embargo limiting access to equipment and spare parts',
      'Highway and rail infrastructure deteriorating from maintenance deficits',
      'Electricity grid unreliable with frequent blackouts',
      'Internet access limited and controlled for political reasons',
      'Urban infrastructure in Havana crumbling from deferred maintenance'
    ]
  },
  {
    name: 'Haiti',
    lat: 18.9712,
    lng: -72.2852,
    summary: "Haiti's infrastructure represents one of the Western Hemisphere's most severe crises - systems that were always inadequate have been further degraded by earthquakes, hurricanes, political instability, and chronic underinvestment. Port-au-Prince exemplifies urban infrastructure failure: unpaved streets turn to mud rivers during rains, sewage flows openly, electricity comes from private generators for those who can afford them, and water delivery depends on trucks and vendors. The 2010 earthquake destroyed much infrastructure, yet reconstruction has been painfully slow and incomplete. The 2021 earthquake, Hurricane Matthew in 2016, and recurring tropical storms continue inflicting damage faster than repairs can occur. The state lacks resources and often capacity to maintain infrastructure, while international aid has produced scattered projects rather than systematic improvement.\n\nThe road network consists largely of unpaved or badly deteriorated paved routes. The highways connecting Port-au-Prince to Cap-Haïtien in the north and Les Cayes in the south have sections that are barely passable, with massive potholes and washouts. Rural roads often become impassable during rainy seasons, cutting off communities. Travel times are extremely long for relatively short distances. The absence of proper road infrastructure constrains agricultural market access, emergency response, and economic development. Some rural areas are accessible only by foot or pack animals, essentially lacking road infrastructure entirely.\n\nRailway infrastructure is completely absent - Haiti has no functioning rail system, nor has it had one in decades. The country that never developed rail infrastructure now has no prospect of doing so given more basic infrastructure deficits.\n\nPort-au-Prince's urban infrastructure barely functions. Most streets are unpaved, turning to impassable mud during rains. Tap dancing between puddles and mud becomes a daily exercise. Garbage collection is minimal, with waste accumulating in streets and canals. The sewage infrastructure is essentially absent, with open drainage channels carrying waste. Earthquakes have repeatedly damaged what limited water infrastructure existed. Most residents get water from vendors who fill containers from tanker trucks, paying far more than piped water would cost. Electricity infrastructure is virtually non-existent beyond some grid coverage in wealthier areas. Most of the city uses no electricity or depends on private generators when fuel is available and affordable.\n\nPort infrastructure at Port-au-Prince handles the country's imports and limited exports, though the 2010 earthquake damaged facilities that have been only partially rebuilt. The port operates below modern standards, with limited container handling capacity and inadequate equipment. Delays and inefficiency add costs to everything that enters Haiti, affecting an economy dependent on imports for basic goods. Other ports including Cap-Haïtien and Jacmel have even more limited infrastructure.\n\nToussaint Louverture International Airport in Port-au-Prince provides international connectivity with infrastructure that functions basically but requires modernization. The airport was damaged in the 2010 earthquake and has been repaired but not upgraded substantially. Regional airports in other cities have minimal infrastructure.\n\nElectricity infrastructure fails to serve most Haitians. The state power company, Électricité d'Haïti (EDH), provides intermittent service to portions of Port-au-Prince and some other cities, but blackouts are frequent and many areas receive no grid electricity. Private diesel generators provide power for businesses and wealthier households, at costs that are prohibitive for most. The power generation capacity is insufficient, the transmission infrastructure is inadequate, and the distribution system loses massive amounts of electricity to theft and technical losses. Rural areas mostly have no electricity access at all.\n\nWater infrastructure in Port-au-Prince and other cities barely exists. Piped water reaches only small portions of urban areas, and even where pipes exist, service is irregular. Most people buy water from vendors, paying far more than piped water costs. Wastewater and sewage infrastructure is absent in most areas, creating public health hazards. During cholera outbreaks, the absence of clean water and sanitation infrastructure enables disease spread.\n\nDigital infrastructure is minimal, with mobile phone coverage in cities but very limited internet access. Costs are high relative to incomes, and speeds are slow. Much of the country has no connectivity at all.",
    issues: [
      'Road network largely unpaved or severely deteriorated',
      'Electricity infrastructure failing to serve most of the population',
      'Water and sewage systems essentially absent',
      'Port-au-Prince urban infrastructure barely functional',
      'Recurring natural disasters destroying infrastructure faster than reconstruction'
    ]
  },
  {
    name: 'Dominican Republic',
    lat: 18.7357,
    lng: -70.1627,
    summary: "The Dominican Republic's infrastructure development contrasts sharply with neighboring Haiti, reflecting the impact of sustained investment and economic growth on system quality. Tourism revenues have enabled highway construction, airport modernization, and urban infrastructure improvements that support a middle-income economy. Santo Domingo's Metro, opened in 2009 and expanded since, provides modern rail transit that demonstrates infrastructure ambition. However, inequality means that infrastructure quality varies dramatically - tourist zones and wealthy areas have excellent roads and reliable utilities, while poor neighborhoods and rural areas often lack basic services. The challenge ahead is extending quality infrastructure to all Dominicans rather than maintaining the current two-tier system.\n\nThe highway network has improved substantially with new toll highways connecting Santo Domingo to tourist regions and Santiago. These autopistas provide fast, safe travel for those who can afford tolls. However, non-toll roads often have significant quality issues, with potholes and poor maintenance. The scenic mountain routes require ongoing maintenance that doesn't always occur. Rural roads can become difficult or impassable during heavy rains. The infrastructure that serves tourism is generally excellent, while roads in less economically important areas receive less attention.\n\nSanto Domingo's Metro represents a significant infrastructure achievement - the first modern metro system in the Caribbean. The system operates cleanly and efficiently, though coverage remains limited to certain corridors. Expansion continues gradually, adding new lines to serve more of the metropolitan area. However, most residents still depend on buses and informal transport. Traffic congestion worsens as car ownership increases faster than road infrastructure expands. Other cities lack comparable transit infrastructure, depending entirely on buses and cars.\n\nRailway infrastructure for everyday transportation is essentially absent. A sugar cane railway network once operated but passenger rail has not developed. The distances and topography might make rail infrastructure useful for routes like Santo Domingo to Santiago, yet no such system exists or appears planned. All intercity transport depends on buses or private vehicles.\n\nPort infrastructure at Santo Domingo, Puerto Plata, and other locations serves both cargo and cruise tourism. Container terminals have been modernized to handle growing trade, while cruise terminals accommodate the massive ships that bring hundreds of thousands of tourists annually. The infrastructure quality is generally good by regional standards, reflecting the economic importance of maritime trade and tourism. Free trade zone infrastructure near ports attracts manufacturing operations.\n\nAirport infrastructure has been heavily invested in to serve tourism. Punta Cana International Airport, privately operated to serve the resort zone, provides excellent facilities. Las Américas International Airport serving Santo Domingo has been expanded and modernized. Puerto Plata, La Romana, and regional airports offer varying infrastructure levels. The Dominican Republic has developed airport infrastructure more extensively than most Caribbean nations, reflecting tourism's centrality to the economy.\n\nElectricity infrastructure operates more reliably than in the past but still faces challenges. Power outages occur regularly, though less frequently than in earlier decades. The distribution system has high technical and theft losses, forcing paying customers to subsidize deficits. Generation relies heavily on imported fossil fuels, making electricity costs vulnerable to oil price fluctuations. Renewable energy development, particularly solar and wind, has expanded but still represents a small share of generation. The transmission and distribution infrastructure requires ongoing investment to improve reliability and reduce losses.\n\nDigital infrastructure in cities provides good 4G coverage and expanding fiber optic networks. However, internet penetration remains below developed country levels, and rural areas have significant connectivity gaps. Costs are relatively high for average incomes. The government has promoted digital infrastructure expansion, but implementation proceeds gradually.\n\nWater infrastructure provides service to most urban areas, though quality and reliability vary. Santo Domingo and tourist zones generally have reliable piped water, while other areas may have intermittent service. Wastewater treatment infrastructure is inadequate, with much sewage discharged untreated. Rural areas often lack piped water infrastructure, depending on wells or truck delivery.",
    issues: [
      'Two-tier infrastructure system favoring tourist zones and wealthy areas',
      'Electricity distribution plagued by high losses and outages',
      'Rural areas lacking adequate road and utility infrastructure',
      'Water and sewage treatment infrastructure inadequate',
      'Infrastructure inequality mirroring broader economic disparities'
    ]
  },
  {
    name: 'Guatemala',
    lat: 15.7835,
    lng: -90.2308,
    summary: "Guatemala's infrastructure reflects a country where geography, inequality, and underinvestment create barriers to development. The mountainous terrain that covers much of the country makes infrastructure construction expensive and maintenance challenging. Guatemala City sprawls across ravine-cut highlands without the transit systems that could reduce car dependency and congestion. The Indigenous highlands and Petén lowlands have particularly inadequate infrastructure, perpetuating the marginalization of populations already facing discrimination. Recent administrations have emphasized highway concessions and port development, yet basic infrastructure that would serve the majority remains underfunded. The result is a system where infrastructure supports export agriculture and elite mobility while leaving too many Guatemalans without reliable roads, water, or electricity.\n\nThe highway network connecting Guatemala City to ports and borders has seen improvement through concession programs, with private operators maintaining toll highways to reasonable standards. However, the rural road network remains largely inadequate. Many communities, particularly in the western highlands, are connected only by unpaved roads that become impassable during rainy seasons. Landslides during tropical storms regularly cut major routes, sometimes for extended periods. The Pan-American Highway through the highlands demonstrates infrastructure challenges - mountain topography requiring constant curves, elevation changes, and maintenance against erosion and weather damage. When roads fail, rural communities become isolated from markets, schools, and healthcare.\n\nGuatemala City's urban infrastructure struggles with a metropolitan area approaching 3 million people served by infrastructure designed for far fewer. The city has no metro or rail transit, depending entirely on buses and increasing private vehicles. Traffic congestion has become severe, yet political will for major transit infrastructure investment has been lacking. The Transmetro bus rapid transit system provides limited improved service on a few corridors, but coverage is insufficient. The ravine topography makes some infrastructure solutions difficult - building tunnels or bridges for rail transit would be extremely expensive. Meanwhile, congestion costs the economy billions in lost productivity.\n\nRailway infrastructure has been abandoned, with tracks either removed or left to deteriorate. Guatemala once had railways connecting the Caribbean and Pacific coasts through the highlands, but privatization led to cessation of operations. Some tourist train services have been discussed but the infrastructure has not been restored for regular passenger or freight service. The absence of rail options forces all freight onto highways, contributing to road deterioration and traffic.\n\nPort infrastructure on both Caribbean and Pacific coasts serves the agricultural exports that drive foreign exchange - coffee, sugar, bananas, cardamom. Puerto Quetzal on the Pacific and Santo Tomás de Castilla on the Caribbean have been developed with private investment to handle containerized cargo and bulk exports. The infrastructure quality at ports generally exceeds that of the road connections that bring cargo to them, creating bottlenecks. Free trade zone infrastructure near ports attempts to attract manufacturing investment.\n\nLa Aurora International Airport in Guatemala City provides the main international gateway with adequate infrastructure, though the facility is hemmed in by urban development limiting expansion. Regional airports serve other cities and tourist destinations like Tikal with varying infrastructure levels.\n\nEnergy infrastructure relies on a mix of hydro, thermal, and increasing renewable energy. The mountainous terrain provides hydro potential that has been exploited, though projects often face local opposition over environmental and social impacts. The electricity grid serves cities and towns but many rural communities lack access. The high costs of extending infrastructure to dispersed mountain populations means gaps will likely persist. Renewable energy, particularly geothermal from volcanic activity, offers clean energy potential that infrastructure development is beginning to tap.\n\nDigital infrastructure in Guatemala City and other cities provides 4G coverage and expanding fiber networks, but rural areas, particularly Indigenous highlands, have minimal connectivity. The digital divide reinforces existing inequalities, limiting educational and economic opportunities. Internet penetration remains below regional averages and costs are high relative to incomes.\n\nWater infrastructure in Guatemala City faces challenges from aging pipes and inadequate sources for growing population. Service is irregular in many neighborhoods. Wastewater treatment is inadequate, with Lake Amatitlán and other water bodies receiving pollution from urban sewage and industrial discharge.",
    issues: [
      'Mountainous terrain making infrastructure expensive to build and maintain',
      'Guatemala City lacking metro despite severe congestion',
      'Rural Indigenous areas particularly underserved by infrastructure',
      'Railway infrastructure completely abandoned',
      'Water and sewage infrastructure inadequate in urban and rural areas'
    ]
  },
  {
    name: 'Honduras',
    lat: 15.2000,
    lng: -86.2419,
    summary: "Honduras' infrastructure reflects a combination of challenging geography, limited resources, corruption that has diverted funds, and recurring hurricane damage that sets development back. The country's mountainous interior makes road infrastructure expensive while the hurricane-prone Caribbean coast sees roads and bridges washed out with depressing regularity. Tegucigalpa, built in a highland valley with limited flat land, has grown without adequate planning or infrastructure investment, creating urban challenges that political instability and limited budgets prevent addressing. San Pedro Sula, the industrial center, has somewhat better infrastructure but still falls short of needs. The basic reality is that Honduras lacks the resources to build infrastructure that could support higher economic growth, creating a trap of underdevelopment.\n\nThe highway network's main corridors connect Tegucigalpa to San Pedro Sula and onward to the Caribbean coast ports. These routes function but require ongoing maintenance against landslides and weather damage. Mountain roads through the interior are often poorly maintained two-lane routes with steep grades and sharp curves that make travel slow and dangerous. The northern coast highway serves the population centers and agricultural export zones with better infrastructure. However, when hurricanes strike, roads and bridges wash out, cutting communities off for extended periods. Hurricane Mitch in 1998 destroyed much infrastructure that took years to rebuild, and subsequent storms have repeatedly inflicted fresh damage.\n\nTegucigalpa's urban infrastructure reflects a capital that has grown in difficult terrain without sufficient investment. The city sprawls across hillsides and valleys connected by roads that were never adequate and have become more congested as population increases. No metro or rail transit exists, with buses providing public transport on overcrowded streets. Water infrastructure cannot meet demand reliably, with many areas receiving intermittent service or depending on truck delivery. Sewage infrastructure is inadequate, with contamination affecting downstream water quality. The geography makes some infrastructure challenges inherent - the confined valleys limit expansion options - but underinvestment exacerbates natural constraints.\n\nRailway infrastructure once connected the Caribbean coast to banana plantations in the interior, but operations ceased as the banana economy declined and the infrastructure was abandoned. No passenger rail service exists, and freight rail has essentially ended. The tracks that remain are largely overgrown and unusable. Rebuilding rail infrastructure might improve freight efficiency to ports, but resources for such projects have not materialized.\n\nPort infrastructure at Puerto Cortés on the Caribbean handles most international trade, with private concession operators managing container terminals. The port functions reasonably well by regional standards, serving as an outlet for Honduran and Salvadoran exports. However, the road and rail connections that should efficiently move cargo to and from the port are inadequate, creating bottlenecks that add costs.\n\nAirport infrastructure at Toncontín International in Tegucigalpa is notoriously challenging due to the mountainous approach that requires precision flying. The airport's location in a valley surrounded by peaks limits expansion and creates safety concerns. Ramón Villeda Morales International serving San Pedro Sula provides an easier alternative for international flights with better infrastructure and safer approaches. Regional airports have minimal infrastructure.\n\nEnergy infrastructure relies on a mix of hydro, thermal plants, and limited renewables. The mountainous terrain provides hydro potential, but projects often face delays and local opposition. The electricity grid serves cities and larger towns but rural electrification remains incomplete. Private diesel generators provide backup when the unreliable grid fails. The high cost of electricity reflects infrastructure deficits and theft that paying customers subsidize.\n\nDigital infrastructure provides 4G coverage in cities and larger towns, with expanding fiber optic networks in urban areas. However, rural communities often have poor or no connectivity. Internet penetration is low by regional standards and costs are high relative to incomes.\n\nWater infrastructure is inadequate across urban and rural areas. Tegucigalpa and other cities provide intermittent piped water service to areas that have infrastructure, but many neighborhoods lack connections. Rural areas often depend on wells or unprotected sources. Wastewater treatment infrastructure is minimal, with sewage discharged into rivers with little or no treatment.",
    issues: [
      'Recurring hurricane damage to infrastructure, particularly roads and bridges',
      'Tegucigalpa infrastructure constrained by mountainous terrain',
      'Rural road network inadequate with seasonal access problems',
      'Water infrastructure providing unreliable service in cities',
      'Railway network abandoned and non-functional'
    ]
  },
  {
    name: 'El Salvador',
    lat: 13.7942,
    lng: -88.8965,
    summary: "El Salvador's infrastructure benefits from the country's small size and relatively flat Pacific coastal plains, making construction easier than in more mountainous Central American neighbors. However, high population density, limited public resources, and the legacy of civil war that destroyed infrastructure have constrained development. San Salvador, the capital, has grown into a metropolitan area of over 2 million without developing the transit systems that could reduce car dependency and pollution. Recent governments have emphasized highway expansion and airport development, yet basic infrastructure serving poor neighborhoods and rural areas remains inadequate. Gang violence in some areas further complicates infrastructure maintenance and service delivery.\n\nThe highway network provides reasonable connectivity between San Salvador, the port at Acajutla, and beach areas on the Pacific coast. The Pan-American Highway crosses the country east-west with generally adequate quality. However, the dense population and increasing vehicle ownership mean traffic congestion has become severe, particularly around San Salvador. Some highways operate under concessions with private operators maintaining toll roads to higher standards than free alternatives. Rural roads vary in quality, with some agricultural areas well-served while others have poorly maintained routes that deteriorate during rainy seasons.\n\nSan Salvador's urban infrastructure relies entirely on buses for public transport, with no metro or rail system despite the metropolitan area's size and density. Traffic congestion worsens annually as car ownership increases. The SITRAMSS bus system was intended to provide organized transit, but implementation has been limited. The city sprawls across a volcanic valley with earthquake risks that infrastructure must be designed to accommodate. Water infrastructure provides intermittent service to many neighborhoods, with informal settlements often lacking formal connections. Sewage infrastructure is inadequate, with the Acelhuate River that flows through San Salvador essentially an open sewer carrying untreated waste.\n\nRailway infrastructure once connected the country but has been completely abandoned. Tracks have been removed or left to decay, and no passenger or freight rail service operates. The distances in a small country might not justify major rail infrastructure, yet the absence eliminates an option that could reduce highway congestion and provide efficient freight transport to ports.\n\nPort infrastructure at Acajutla on the Pacific provides the main maritime gateway. The port has been expanded and modernized to handle containerized cargo and bulk exports more efficiently. However, capacity is limited compared to larger regional ports, and the road connections create bottlenecks during peak periods. The port serves not just El Salvador but also some Guatemalan and Honduran cargo that transits the country.\n\nMonseñor Óscar Arnulfo Romero International Airport, which replaced the old Ilopango facility, provides modern international aviation infrastructure. The airport was built with emphasis on serving the Salvadoran diaspora in the United States, which sends remittances that exceed export earnings. The facility is generally well-maintained with adequate capacity for current demand.\n\nEnergy infrastructure imports electricity from neighbors to supplement domestic generation from thermal plants and limited renewables. The grid serves most of the country, with electrification rates high by regional standards. However, electricity costs are among the region's highest, reflecting the dependence on imported oil for generation. Renewable energy potential from geothermal, solar, and wind remains underdeveloped despite natural resources that could enable cleaner, potentially cheaper power. The infrastructure investment required has not been prioritized sufficiently.\n\nDigital infrastructure provides good 4G coverage across most of the country given its small size. Fiber optic networks serve cities with expanding coverage. El Salvador has better internet penetration than some Central American neighbors, though costs remain high relative to average incomes. The government's push to adopt Bitcoin created infrastructure for cryptocurrency but didn't address the more fundamental digital access issues facing poor communities.\n\nWater infrastructure serves cities and towns with piped water, though service reliability varies. San Salvador and surrounding areas face supply challenges during dry seasons, with rationing sometimes necessary. Rural areas generally have access to piped water or protected wells, though quality and reliability vary. Wastewater treatment infrastructure is inadequate, with much sewage discharged untreated into rivers and the ocean.",
    issues: [
      'San Salvador lacking metro despite high density and congestion',
      'Water infrastructure providing intermittent service and inadequate treatment',
      'Railway infrastructure completely abandoned',
      'High electricity costs despite renewable energy potential',
      'Infrastructure service delivery complicated by gang violence in some areas'
    ]
  },
  {
    name: 'Nicaragua',
    lat: 12.8654,
    lng: -85.2072,
    summary: "Nicaragua's infrastructure development has been hampered by political instability, limited resources, corruption, and most recently the economic crisis following 2018's political violence. The country has some of Central America's least developed infrastructure, with inadequate roads, unreliable electricity, and limited water systems constraining economic potential. Managua, destroyed by earthquake in 1972 and rebuilt haphazardly, lacks coherent urban infrastructure - no traditional downtown, no metro or organized transit, and sprawling development without proper planning. The proposed Nicaragua Canal, which would rival Panama, has been promoted by the government but faces questions about feasibility, financing, and environmental impact. More immediate infrastructure needs go unmet while grandiose projects are announced.\n\nThe highway network's main routes connect Managua to Caribbean and Pacific coasts, but quality is poor by regional standards. The Pan-American Highway through Nicaragua has sections that are barely two-lane roads with crumbling pavement and dangerous curves. Landslides and flooding during rainy seasons regularly close routes. Rural roads are often unpaved and become impassable when wet, cutting off agricultural communities from markets. The limited highway infrastructure restricts economic development, particularly in the Caribbean coast region which remains poorly connected to Pacific population centers.\n\nMagagua's urban infrastructure reflects the chaotic rebuilding after the 1972 earthquake destroyed the old city center. The city sprawls without a real downtown or coherent plan. No metro or rail transit exists, with buses providing public transport on congested streets. The city's layout makes efficient transit difficult - destinations are spread across a wide area without concentrations that would support high-capacity transit. Water infrastructure provides irregular service to many areas, and sewage treatment is minimal with Lake Managua receiving untreated discharge.\n\nRailway infrastructure is non-existent - Nicaragua has no operating railways and hasn't had passenger or freight rail for decades. The infrastructure that existed historically has been abandoned completely. The absence of rail options means all transport depends on the inadequate road network.\n\nPort infrastructure on both coasts serves different needs. Corinto on the Pacific handles most international cargo with limited infrastructure that creates inefficiencies and bottlenecks. The Caribbean coast ports of Bluefields and Puerto Cabezas have minimal infrastructure, essentially handling small vessels and local trade. The Caribbean coast's isolation from Pacific population centers means port development has been minimal despite coastal resources.\n\nMagagua International Airport provides the main aviation gateway with adequate but not modern infrastructure. Regional airports serve other cities with basic facilities. The Caribbean coast depends on air connections given poor road infrastructure, yet airports there have minimal facilities beyond runways.\n\nEnergy infrastructure relies on thermal generation using imported oil, geothermal resources, and some renewables. The electricity grid is unreliable with frequent outages, particularly during peak demand. Blackouts are routine in some areas. Rural electrification is incomplete, with many communities lacking grid access. The geothermal and wind potential remains underdeveloped, and the transmission infrastructure is inadequate for efficiently distributing power. Electricity costs are high, reflecting the dependence on imported fuels and grid inefficiency.\n\nDigital infrastructure lags regional peers, with limited fiber optic deployment and 4G coverage concentrated in cities. Rural areas often have poor or no mobile connectivity. Internet penetration is low and costs are high relative to incomes. The government has not prioritized digital infrastructure development, and the economic crisis has further limited investment.\n\nWater infrastructure in Managua and other cities provides intermittent piped water service to areas with connections, but many neighborhoods lack infrastructure. Rural areas often depend on wells or unprotected sources. Wastewater treatment is minimal, with sewage discharged into lakes and rivers with little or no treatment creating environmental and health hazards.",
    issues: [
      'Highway network in poor condition limiting economic development',
      'Managua lacking coherent urban infrastructure after earthquake',
      'Railway infrastructure completely absent',
      'Electricity grid unreliable with frequent blackouts',
      'Water and sewage infrastructure inadequate across urban and rural areas'
    ]
  }
]

async function saveAllInfrastructureSummaries() {
  console.log(`🚀 Starting MEGA BATCH infrastructure generation (${countries.length} countries)\n`)

  let successCount = 0
  let errorCount = 0
  const errors: string[] = []

  for (const country of countries) {
    console.log(`\n${'='.repeat(80)}`)
    console.log(`Processing: ${country.name}`)
    console.log('='.repeat(80))

    try {
      const summaryLength = country.summary.length
      console.log(`   Summary length: ${summaryLength} characters`)

      if (summaryLength < 2500 || summaryLength > 4500) {
        console.log(`   ⚠️  Warning: Summary length ${summaryLength} is unusual`)
      }

      if (country.issues.length !== 5) {
        console.log(`   ⚠️  Warning: Expected 5 issues, got ${country.issues.length}`)
      }

      const result = await prisma.locationSummary.upsert({
        where: {
          name_type_category: {
            name: country.name,
            type: 'country',
            category: 'infrastructure',
          },
        },
        update: {
          summary: country.summary,
          issues: JSON.stringify(country.issues),
          topStories: JSON.stringify([]),
          storyCount: 0,
          lat: country.lat,
          lng: country.lng,
          updatedAt: new Date(),
        },
        create: {
          name: country.name,
          type: 'country',
          country: country.name,
          lat: country.lat,
          lng: country.lng,
          category: 'infrastructure',
          summary: country.summary,
          issues: JSON.stringify(country.issues),
          topStories: JSON.stringify([]),
          storyCount: 0,
        },
      })

      console.log(`✅ ${country.name} saved (${summaryLength} chars, ${country.issues.length} issues) - ID: ${result.id}`)
      successCount++
    } catch (error) {
      console.error(`❌ Error saving ${country.name}:`, error)
      errorCount++
      errors.push(`${country.name}: ${error}`)
    }
  }

  console.log('\n' + '='.repeat(80))
  console.log('✅ MEGA BATCH COMPLETE!')
  console.log('='.repeat(80))
  console.log(`📊 Results:`)
  console.log(`   - Successfully saved: ${successCount}`)
  console.log(`   - Errors: ${errorCount}`)
  console.log(`   - Total processed: ${countries.length}`)

  if (errors.length > 0) {
    console.log(`\n❌ Errors encountered:`)
    errors.forEach(err => console.log(`   - ${err}`))
  }
}

saveAllInfrastructureSummaries()
  .catch(console.error)
  .finally(() => prisma.$disconnect())
