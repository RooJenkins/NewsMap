import { PrismaClient } from '@prisma/client'

const prisma = new PrismaClient()

const BRAZIL_INFRASTRUCTURE = `Brazil's infrastructure landscape presents a study in contrasts—ambitious metropolitan transit systems alongside crumbling rural highways, world-class airports serving major cities while interior regions remain isolated. As an urban planning practitioner observing Latin America's largest economy, I see a nation at an infrastructural inflection point, where decades of underinvestment collide with urgent modernization needs.

**TRANSPORTATION NETWORKS**

Brazil's road network spans 1.7 million kilometers, yet only 12% is paved—a ratio that would shock any developed nation. The BR-116 and BR-101 coastal highways carry enormous freight volumes but suffer chronic maintenance deficits. In São Paulo, the Rodoanel beltway represents modern engineering at its finest, yet congestion persists as vehicle ownership outpaces capacity expansion. The contrast between tolled private concessions (generally well-maintained) and public roads (often potholed and dangerous) creates a two-tier system where mobility correlates directly with ability to pay.

Rail infrastructure remains Brazil's great missed opportunity. The freight rail network moves commodities efficiently from interior to ports, but passenger rail barely exists outside commuter systems. São Paulo's metro serves 5 million daily riders across 101 kilometers—impressive by regional standards but modest compared to Asian megacities. Rio's Metro covers 58 kilometers, expanded for the 2016 Olympics but still insufficient for a city of 6.7 million. The absence of intercity passenger rail between São Paulo and Rio—two cities 430 kilometers apart with combined population exceeding 30 million—represents a glaring infrastructure gap.

Airport infrastructure has seen substantial modernization. São Paulo-Guarulhos, Rio-Galeão, and Brasília International handle international traffic competently, with private concessions delivering service improvements. Regional airports lag significantly, limiting interior connectivity. Maritime infrastructure at Santos (Latin America's busiest port) and other coastal facilities handles massive agricultural exports but faces capacity constraints.

**PUBLIC TRANSIT AND URBAN MOBILITY**

São Paulo's integrated transit system (metro, commuter rail, and BRT corridors) represents South America's most sophisticated urban mobility network, moving 8 million daily passengers. Yet chronic overcrowding and limited coverage leave vast peripheral areas dependent on informal bus services. Rio's BRT network, once touted as a model, struggles with maintenance and operational challenges. Smaller cities lack coordinated transit planning, resulting in automobile dependency and worsening congestion.

Motorcycle and app-based ride services fill gaps left by inadequate public transit, creating chaotic traffic conditions. Bicycle infrastructure remains minimal outside a few privileged neighborhoods in major cities. The favela-periphery divide manifests starkly in infrastructure access—hillside communities and distant suburbs face hours-long commutes on precarious transport.

**URBAN PLANNING AND DEVELOPMENT**

Brazilian cities exemplify organic growth patterns with insufficient planning oversight. São Paulo's vertical expansion creates dramatic skylines but concentrates wealth in central districts while peripheries sprawl horizontally. Smart city initiatives in Curitiba pioneered integrated land-use and transit planning in the 1970s, but this model hasn't scaled nationally. Recent favela upgrading programs (like Complexo do Alemão's cable car system) show innovative thinking but remain localized interventions.

Flooding and landslide risks intensify as informal settlements occupy vulnerable terrain. Climate adaptation infrastructure lags far behind need, with drainage systems overwhelmed by increasingly intense rainfall events.

**MAJOR INFRASTRUCTURE PROJECTS**

The current government's New Growth Acceleration Program (Novo PAC) proposes R$1.7 trillion in infrastructure investment through 2026, focusing on highways, urban transport, and energy. São Paulo's Metro Line 6 (20 km, 15 stations) progresses slowly after decades of delays. The planned high-speed rail between São Paulo and Rio has been proposed, canceled, and re-proposed multiple times since the 1990s—a symbol of planning ambition exceeding execution capacity.

Privatization and concession programs attract investment but raise equity concerns as user fees increase. The Santos port expansion and various airport modernizations proceed under private management with generally positive results.

**INFRASTRUCTURE MAINTENANCE**

Brazil suffers a severe maintenance deficit. The National Transport Confederation estimates 60% of federal highways are in poor or very poor condition. Bridge collapses and road failures make regular headlines. Maintenance receives insufficient budget allocations as new project inaugurations provide more political visibility than ongoing upkeep—a pattern seen globally but particularly acute in Brazil.

Urban infrastructure shows similar deterioration. Water and sewage systems lose 40% of treated water to leakage. Electrical grid maintenance improved after major blackouts, but vulnerabilities remain. The reactive rather than preventive maintenance culture imposes enormous long-term costs.

**DIGITAL INFRASTRUCTURE**

Brazil has made remarkable progress in digital connectivity. 4G coverage reaches 97% of the population, and 5G deployment accelerated rapidly in major cities throughout 2023-2024. However, quality varies dramatically by region and socioeconomic status. Fiber optic networks extend throughout urban centers, but rural and remote Amazonian communities lack reliable internet access.

The digital divide mirrors physical infrastructure inequalities—wealthy neighborhoods enjoy gigabit speeds while favela residents share limited mobile data plans. Digital inclusion programs show positive trends but haven't eliminated structural gaps.

**FORWARD PERSPECTIVE**

Brazil possesses the economic scale and engineering talent to build world-class infrastructure. What it lacks is consistent long-term planning, adequate maintenance funding, and political will to prioritize unglamorous but essential upkeep over prestigious new projects. The infrastructure challenge is fundamentally a governance challenge—coordinating federal, state, and municipal authorities, maintaining investment continuity across political cycles, and ensuring equitable access alongside efficiency.

The coming decade will determine whether Brazil leverages its resources to close infrastructure gaps or continues managing decline with periodic interventions. For a nation aspiring to global economic relevance, the infrastructure deficit represents both the primary constraint and the greatest opportunity.`

const CANADA_INFRASTRUCTURE = `Canada's infrastructure reflects a mature developed economy grappling with aging systems, climate adaptation challenges, and the immense geographical realities of maintaining connectivity across the world's second-largest landmass. As someone who has studied infrastructure systems globally, I observe Canada at a critical juncture where post-war infrastructure reaches end-of-life simultaneously with urgent climate and demographic pressures demanding transformation.

**TRANSPORTATION NETWORKS**

Canada's highway network totals 1.1 million kilometers, with the Trans-Canada Highway spanning 7,821 kilometers as the world's longest national highway system. Infrastructure quality varies dramatically by province. Ontario and Quebec maintain generally high-standard highways, while remote northern routes face severe climate-related deterioration. The challenge isn't coverage but condition—the Canadian Infrastructure Report Card consistently grades roads C+ to B-, indicating significant repair backlogs.

Winter maintenance consumes enormous resources as freeze-thaw cycles devastate pavement. The Confederation Bridge linking Prince Edward Island showcases engineering excellence adapted to extreme conditions, but most infrastructure wasn't designed for the intensifying climate impacts Canada now experiences.

Rail infrastructure divides sharply between freight (excellent) and passenger (inadequate). CN and CP operate one of North America's most efficient freight rail networks, moving resources from interior to coastal ports with remarkable efficiency. Passenger rail remains VIA Rail's near-monopoly, offering limited intercity service on tracks owned by freight companies. The Windsor-Quebec City corridor sees reasonable service, but most Canadians lack viable rail alternatives to driving or flying.

The proposed high-frequency rail corridor between Toronto and Quebec City has been studied exhaustively without construction commitment—a pattern of planning without execution that characterizes major Canadian infrastructure projects. Urban rail systems in Toronto (Line 5 Eglinton finally opening after delays), Vancouver (SkyTrain expansion), Montreal (REM light metro), and Ottawa (O-Train expansion) show active investment, though projects consistently exceed budgets and timelines.

Canada's airports serve a geographically dispersed population remarkably well. Toronto Pearson, Vancouver, and Montreal-Trudeau handle international traffic efficiently, while smaller airports maintain lifeline services to remote communities. The challenge is less capacity than cost—airport improvement fees and high operational costs make Canadian air travel expensive by international standards.

**PUBLIC TRANSIT AND URBAN MOBILITY**

Canadian cities demonstrate transit systems at varying development stages. Toronto's TTC moves 1.7 million daily riders across subway, streetcar, and bus networks—impressive but strained by capacity limits and maintenance backlogs. The perpetually delayed Scarborough subway extension exemplifies planning paralysis, while the Eglinton Crosstown's extended delays damage public confidence.

Vancouver's TransLink integrates SkyTrain automated metro, bus, and SeaBus ferry services effectively, with Broadway Subway extension underway. Montreal's extensive metro network (68 stations, 71 km) represents Canada's second-largest but shows aging infrastructure requiring substantial investment. The new REM automated light metro adds 67 km, demonstrating Quebec's willingness to embrace innovative transit solutions.

Calgary and Edmonton operate successful LRT systems, though suburban sprawl limits transit mode share. Smaller cities struggle with automobile dependency as low densities make fixed-route transit economically challenging. Transit equity concerns grow as service cuts disproportionately affect lower-income communities.

**URBAN PLANNING AND DEVELOPMENT**

Canadian cities face intense densification pressures amid housing crises in major metropolitan areas. Toronto, Vancouver, and Montreal see tower clusters rising near transit stations—transit-oriented development finally gaining traction after decades of sprawl. Yet exclusionary zoning in vast single-family neighborhoods constrains housing supply and forces sprawl continuation.

Smart city initiatives gained prominence with Toronto's controversial Sidewalk Labs proposal (ultimately canceled), raising important questions about data governance and public space commodification. Most Canadian cities pursue incremental smart city pilots—traffic signal optimization, digital transit information, smart parking—rather than transformative reimagining.

Climate adaptation infrastructure becomes urgent as flooding, wildfires, and extreme weather intensify. Edmonton's river valley flood mitigation, Toronto's stormwater management, and coastal cities' sea level adaptation show growing recognition, but investment lags behind accelerating risks.

**MAJOR INFRASTRUCTURE PROJECTS**

Current major projects include:
- Eglinton Crosstown LRT (Toronto): 19 km, repeatedly delayed, now targeting 2025 opening
- Broadway Subway (Vancouver): 5.7 km extension, under construction
- REM light metro (Montreal): 67 km automated system, partially operational
- Gordie Howe International Bridge (Windsor-Detroit): Major border crossing opening 2025
- Trans Mountain Pipeline Expansion: Controversial oil infrastructure completed despite opposition

The Investing in Canada Infrastructure Program commits C$180 billion over 12 years (2016-2028) across public transit, green infrastructure, social infrastructure, trade and transportation, and rural/northern communities. Execution has been slower than projected, with municipal capacity constraints limiting absorption.

**INFRASTRUCTURE MAINTENANCE**

The Canadian Infrastructure Report Card 2024 estimates a C$150 billion infrastructure deficit, with particular concerns in water/wastewater systems, roads, and bridges. The Champlain Bridge replacement (Montreal) exemplified proactive intervention before catastrophic failure, but many structures don't receive such attention until crisis forces action.

Asset management practices vary widely across municipalities. Larger cities employ sophisticated condition assessment and lifecycle planning, while smaller communities lack capacity for data-driven maintenance prioritization. Federal infrastructure funding often favors new construction over maintenance, perversely incentivizing neglect until replacement becomes necessary.

Winter conditions accelerate deterioration while limiting construction windows, compounding maintenance challenges. Salt corrosion damages concrete and steel, requiring expensive rehabilitation cycles. Best-practice municipalities are extending infrastructure lifespan through preventive maintenance, but reactive approaches remain common.

**DIGITAL INFRASTRUCTURE**

Canada's digital infrastructure shows urban-rural divides. Major cities enjoy widespread fiber optic access and competitive 5G deployment, while rural and remote areas struggle with connectivity. The Universal Broadband Fund targets 98% of Canadians with 50/10 Mbps service by 2026 and 100% by 2030—ambitious goals facing execution challenges in northern and remote regions.

Innovation corridors in Toronto-Waterloo, Montreal, and Vancouver demonstrate world-class digital ecosystems, but translating this to national digital infrastructure excellence requires continued investment. The emphasis on digital infrastructure recognizes that connectivity is now foundational infrastructure, equivalent to roads and electricity.

**FORWARD PERSPECTIVE**

Canada's infrastructure challenges stem from three core realities: vast geography requiring expensive networks serving dispersed populations; climate extremes causing accelerated deterioration and adaptation demands; and governance complexity across federal, provincial, and municipal jurisdictions complicating planning and funding.

The nation possesses technical expertise, financial resources, and democratic institutions to address infrastructure needs. What it often lacks is political courage to make difficult tradeoffs, regulatory efficiency to accelerate project delivery, and sustained commitment across electoral cycles. Infrastructure debates often devolve into political symbolism rather than evidence-based prioritization.

Canada's infrastructure future depends on shifting from reactive crisis management to proactive strategic investment, from jurisdictional silos to integrated planning, and from political project announcements to disciplined execution. The coming decade will reveal whether Canadian governance can rise to this challenge or continue managing decline while planning transformation.`

async function addInfrastructureSummaries() {
  console.log('Adding infrastructure summaries for Brazil and Canada...\n')

  // Brazil
  await prisma.locationSummary.upsert({
    where: {
      name_type_category: {
        name: 'Brazil',
        type: 'country',
        category: 'infrastructure'
      }
    },
    create: {
      name: 'Brazil',
      type: 'country',
      country: 'Brazil',
      lat: -14.2350,
      lng: -51.9253,
      category: 'infrastructure',
      summary: BRAZIL_INFRASTRUCTURE,
      issues: JSON.stringify([
        'Severe road maintenance deficit (60% of highways in poor condition)',
        'Absence of intercity passenger rail infrastructure',
        'Urban transit capacity insufficient for growing metropolitan populations',
        'Major infrastructure equity gaps between central and peripheral areas',
        'Chronic underinvestment in maintenance versus new projects'
      ]),
      topStories: JSON.stringify([
        {
          title: 'São Paulo launches CABRA project to explore CO2 storage in basalt',
          source: 'Quantum Commodity Intelligence',
          link: 'https://news.google.com/climate-infrastructure',
          pubDate: new Date('2025-11-12').toISOString()
        },
        {
          title: 'WPP opens first Brazil campus in São Paulo',
          source: 'Social Samosa',
          link: 'https://news.google.com/business-infrastructure',
          pubDate: new Date('2025-11-12').toISOString()
        }
      ]),
      storyCount: 2,
      updatedAt: new Date(),
      createdAt: new Date()
    },
    update: {
      summary: BRAZIL_INFRASTRUCTURE,
      updatedAt: new Date()
    }
  })
  console.log('✅ Brazil infrastructure summary added')
  console.log(`   Summary length: ${BRAZIL_INFRASTRUCTURE.length} characters`)

  // Canada
  await prisma.locationSummary.upsert({
    where: {
      name_type_category: {
        name: 'Canada',
        type: 'country',
        category: 'infrastructure'
      }
    },
    create: {
      name: 'Canada',
      type: 'country',
      country: 'Canada',
      lat: 56.1304,
      lng: -106.3468,
      category: 'infrastructure',
      summary: CANADA_INFRASTRUCTURE,
      issues: JSON.stringify([
        'C$150 billion infrastructure maintenance deficit',
        'Chronic public transit project delays and cost overruns',
        'Inadequate intercity passenger rail infrastructure',
        'Urban-rural digital connectivity divide',
        'Climate adaptation infrastructure lagging behind accelerating risks'
      ]),
      topStories: JSON.stringify([
        {
          title: 'Many B.C. schools too dependent on technology',
          source: 'Fraser Institute',
          link: 'https://news.google.com/education-tech',
          pubDate: new Date('2025-11-12').toISOString()
        }
      ]),
      storyCount: 1,
      updatedAt: new Date(),
      createdAt: new Date()
    },
    update: {
      summary: CANADA_INFRASTRUCTURE,
      updatedAt: new Date()
    }
  })
  console.log('✅ Canada infrastructure summary added')
  console.log(`   Summary length: ${CANADA_INFRASTRUCTURE.length} characters`)

  console.log('\n✅ All infrastructure summaries added to database!')
}

addInfrastructureSummaries()
  .catch(console.error)
  .finally(() => prisma.$disconnect())
