import 'dotenv/config'
import { PrismaClient } from '@prisma/client'

const prisma = new PrismaClient()

const ZIMBABWE_SUMMARY = {
  name: 'Zimbabwe',
  type: 'country',
  lat: -19.0154,
  lng: 29.1549,
  country: 'Zimbabwe',
  summary: `Zimbabwe's November 2025 is a tale of perpetual crisis dressed up as recovery. President Emmerson Mnangagwa is maneuvering to extend his tenure beyond the constitutionally mandated 2028 exit—pushing for two extra years until 2030—while his deputy, Constantino Chiwenga, the former general who helped install him via 2017's coup, watches from the sidelines with barely concealed hostility. The succession battle has paralyzed governance. Meanwhile, Zimbabwe's latest currency experiment—the gold-backed ZiG, launched with fanfare in April 2024 as the country's sixth attempt at monetary stability since 2009—collapsed by September 2025 with a 44% devaluation. Turns out the "gold backing" was mostly fiction: Zimbabwe's reserves were insufficient, and corporate Zimbabwe kept transacting in US dollars anyway (80% of purchases, according to financial disclosures). The economy remains dollarized in practice, with the government's 2030 target to phase out the greenback looking delusional. Yet the IMF, ever the optimist, projects 6% growth for 2025, buoyed by favorable weather, high gold prices, and agricultural recovery—a forecast that feels disconnected from the grinding poverty, currency chaos, and political repression that define daily life for ordinary Zimbabweans. This is Zimbabwe: stuck between Mnangagwa's authoritarian entrenchment, Chiwenga's looming challenge, and an economy that lurches from one currency crisis to the next while elites hoard dollars and ordinary people scramble to survive.

**The Big Issue 1: Mnangagwa's Power Grab and the Succession War with Chiwenga**

Let's start with the politics, because everything else—currency, economy, repression—flows from Zimbabwe's leadership crisis. Emmerson Mnangagwa, 82 years old, is constitutionally required to step down after his second term ends in 2028. But on October 18, 2025, ZANU-PF, the ruling party that has governed Zimbabwe since independence in 1980, passed a resolution calling for the government to extend Mnangagwa's term by two additional years until 2030. The pretext: "unfinished business," "continuity," and the need to complete Zimbabwe's "Vision 2030" development agenda. The reality: Mnangagwa doesn't want to leave power, and he's testing whether ZANU-PF's apparatus, the security forces, and the electorate will tolerate a term extension that blatantly violates the constitution.

This isn't happening in a vacuum. Mnangagwa's deputy, Constantino Chiwenga, the former army commander who orchestrated the November 2017 military coup that toppled Robert Mugabe and installed Mnangagwa, has made clear he expects to succeed his boss in 2028. Chiwenga controls key factions within the military and security services, and he's cultivated support among ZANU-PF hardliners who see Mnangagwa as too conciliatory toward the West and too willing to tolerate civilian oversight. The tension between the two men is the worst-kept secret in Zimbabwean politics. On October 17, 2025—one day before ZANU-PF's term extension resolution—war veteran leader Blessed "Bombshell" Geza, a Chiwenga ally, called for a "Million Man March" to protest the term extension plan. The march flopped: heavy security presence, police roadblocks, and a chilling effect from ZANU-PF intimidation kept turnout minimal. But the symbolism was stark: Chiwenga's faction is signaling that they won't accept Mnangagwa clinging to power indefinitely.

Here's the danger: Zimbabwe's political system has no mechanisms for peaceful leadership transitions within ZANU-PF. Mugabe ruled for 37 years until he was ousted by military force. Mnangagwa took power via coup and has since entrenched his position through rigged elections, opposition crackdowns, and patronage networks. If Mnangagwa pushes ahead with the term extension, Chiwenga could respond with a counter-coup—or at minimum, a destabilizing power struggle that paralyzes government and spooks investors. Economist Eddie Cross, a veteran Zimbabwe analyst, told Semafor that the term extension resolution "dented economic confidence." That's diplomatic understatement. What it actually did was signal to businesses, donors, and ordinary Zimbabweans that Zimbabwe's leadership has no interest in rule of law, democratic norms, or predictable governance. The succession fight is a slow-motion car crash, and the country is hostage to it.

**The Big Issue 2: The ZiG Currency Collapse and the Dollar's Dominance**

Now let's talk about Zimbabwe's currency disaster, because this is where the political dysfunction meets economic reality. In April 2024, Zimbabwe launched the ZiG (Zimbabwe Gold), its sixth currency since 2009, marketed as a gold-backed, inflation-resistant alternative to the collapsing Zimbabwean dollar. The Reserve Bank of Zimbabwe promised that every ZiG in circulation was backed by physical gold reserves and foreign currency holdings. The pitch: trust us, this time it's different. It wasn't. By September 2025, the ZiG was devalued by 44% amid surging demand for US dollars. The "gold backing" turned out to be largely fictitious—analysis of financial statements revealed Zimbabwe's reserves were insufficient to back the currency, and corporate Zimbabwe never bought into the ZiG in the first place. Financial disclosures show 80% of corporate purchases are still made in US dollars, with the ZiG used mainly for small retail transactions and government salary payments.

Here's the deeper problem: Zimbabwe has been in a state of currency crisis for nearly three decades, ever since the Mugabe government's land reform program destroyed commercial agriculture, collapsed exports, and triggered hyperinflation that peaked at 500 billion percent in 2008. The country abandoned its own currency in 2009, adopting a basket of foreign currencies dominated by the US dollar. That stabilized the economy temporarily, but it also stripped the government of monetary policy tools and made Zimbabwe's exports uncompetitive. Since 2016, Zimbabwe has tried repeatedly to reintroduce a local currency—the bond note, RTGS dollar, second Zimbabwean dollar, and now the ZiG—but each attempt has failed because ordinary Zimbabweans and businesses don't trust the government. Every currency relaunch is followed by the same pattern: initial optimism, growing instability, black market premiums, capital flight, and eventual collapse.

The government's stated goal is to phase out the US dollar entirely by 2030, achieving full dedollarization and restoring monetary sovereignty. This is fantasy. The dollar dominates because it's stable, internationally accepted, and immune to Reserve Bank manipulation. Businesses use dollars because their suppliers and customers demand dollars. Salaries are negotiated in dollars because the alternative is holding assets that lose value daily. The ZiG's September 2025 devaluation confirmed what everyone already knew: Zimbabwe's government cannot credibly commit to currency stability, and no amount of "gold backing" will change that as long as the underlying fiscal indiscipline, corruption, and political instability persist. The IMF's projection of 6% growth in 2025 is based partly on higher gold exports and favorable commodity prices—but that growth isn't translating into improved living standards for ordinary people, who face chronic food insecurity, sky-high inflation, and collapsing real wages.

**The Big Issue 3: Economic Stagnation, Poverty, and the Missing Social Contract**

Behind the currency drama and political intrigue is a starker reality: Zimbabwe's economy has been in crisis for thirty years, and nothing the government does seems capable of breaking the cycle. The IMF says growth is recovering from a 2024 slowdown, with 2025 projected at 6% thanks to better rainfall, agricultural recovery, and high gold prices. But drill into the numbers and the picture is bleak. Per capita income remains below 1990s levels. Unemployment is rampant, particularly among young people. Food prices are stratospheric, and wages are stagnant or declining in real terms. The country's infrastructure—roads, electricity, water systems—is crumbling from decades of underinvestment. Public hospitals lack basic medicines. Schools struggle to retain teachers as salaries fail to keep pace with inflation.

The fundamental problem is that Zimbabwe's economy is structurally broken. It's dominated by subsistence agriculture, informal trade, and extractive industries (gold, diamonds, tobacco) that generate rents for politically connected elites but little broad-based growth. Manufacturing collapsed after the land reforms, and Zimbabwe's industrial base never recovered. The country imports more than it exports, running chronic trade deficits financed by remittances from the diaspora (estimated at over $1 billion annually) and foreign aid. The government's fiscal position is dire: tax collection is weak, spending is dominated by bloated public sector wages and security forces, and debt servicing consumes resources that should fund development. Zimbabwe owes over $17 billion to international creditors and remains in arrears, locked out of multilateral financing from the World Bank and IMF.

This is why the currency keeps collapsing: Zimbabwe's government can't resist the temptation to print money to cover deficits, triggering inflation and currency depreciation. And it's why dedollarization is impossible: without fiscal discipline, an independent central bank, and credible macroeconomic management, any local currency becomes a mechanism for stealth taxation through inflation. The ZiG's collapse is just the latest iteration of a crisis that has persisted since the late 1990s. For ordinary Zimbabweans, this translates into perpetual insecurity: savings are eroded, planning is impossible, and survival depends on informal networks, black market trading, and remittances from relatives abroad. The social contract—the expectation that government provides stability, services, and opportunity—has broken down entirely.

**The International Angle**

Zimbabwe's international position in November 2025 is defined by isolation, opportunism, and strategic ambiguity. The country remains under targeted US and EU sanctions imposed over human rights abuses and electoral fraud, though these sanctions target individuals and entities rather than the economy broadly. Zimbabwe has responded by pivoting toward China, Russia, and other non-Western powers willing to overlook governance failures in exchange for resource access. China dominates infrastructure projects, mining investments, and trade, making it Zimbabwe's most important external partner. But Chinese investment has declined in recent years as projects stall, debts accumulate, and Beijing grows wary of Zimbabwe's instability.

On the regional stage, Zimbabwe's influence has waned. South Africa, Zimbabwe's largest trading partner and neighbor, has grown frustrated with Harare's economic chaos, refugee outflows (millions of Zimbabweans live in South Africa), and political repression. The Southern African Development Community (SADC) has largely given up trying to mediate Zimbabwe's crises, recognizing that ZANU-PF has no interest in meaningful reform. The 2023 elections, widely criticized as rigged, drew condemnation from regional observers but no consequences—ZANU-PF remains entrenched, and regional powers lack leverage or will to force change.

Zimbabwe's economy depends heavily on diaspora remittances, particularly from Zimbabweans in South Africa, the UK, and the US. These remittances—over $1 billion annually—are a lifeline for families back home, used for food, school fees, and medical expenses. But they also reflect the country's failure: millions of educated, productive Zimbabweans have left because the economy offers no opportunities. The brain drain hollows out the professional class, exacerbating the governance crisis and economic stagnation. Zimbabwe is stuck in a vicious cycle: repression drives emigration, emigration weakens the economy, and economic weakness entrenches authoritarian rule because the state becomes dependent on coercion rather than consent.

**The Bottom Line**

Zimbabwe in November 2025 is a country trapped in a perpetual crisis of its own making. Mnangagwa's power grab threatens to trigger a succession war with Chiwenga, paralyzing governance and spooking investors. The ZiG currency, supposedly gold-backed and inflation-proof, collapsed within 18 months, exposing the government's inability to manage monetary policy credibly. The economy remains dollarized in practice, with the 2030 dedollarization target looking absurd. The IMF's projection of 6% growth in 2025 masks deeper stagnation: poverty is endemic, infrastructure is decaying, and the social contract has broken down. Ordinary Zimbabweans survive through informal trade, black market dealing, and remittances from the diaspora. The international community has largely given up on Zimbabwe, leaving the country isolated and dependent on opportunistic partnerships with China and Russia. Watch three things moving forward: First, whether Mnangagwa pushes ahead with the term extension and how Chiwenga's faction responds—this will determine if Zimbabwe faces political instability or outright violence. Second, whether the ZiG stabilizes or collapses completely, forcing another currency relaunch. Third, whether the 2025 agricultural recovery translates into sustained growth or proves temporary, dependent on weather and commodity prices. Zimbabwe's trajectory is depressingly predictable: more repression, more currency chaos, more stagnation. The only question is whether the system collapses catastrophically or continues limping along indefinitely.`,
  issues: JSON.stringify([
    'Mnangagwa\'s Power Grab and the Succession War with Chiwenga',
    'The ZiG Currency Collapse and the Dollar\'s Dominance',
    'Economic Stagnation, Poverty, and the Missing Social Contract'
  ]),
  topStories: JSON.stringify([
    {
      title: 'ZANU-PF passes resolution extending Mnangagwa\'s term to 2030',
      source: 'Semafor',
      link: 'https://www.semafor.com/article/10/31/2025/zimbabwe-tries-to-drop-us-dollar-mnangagwa-extends-mandate',
      pubDate: new Date('2025-10-31').toISOString()
    },
    {
      title: 'ZiG devaluation reflects Zimbabwe\'s state of perpetual crisis',
      source: 'ISS Africa',
      link: 'https://issafrica.org/iss-today/zig-s-devaluation-reflects-zimbabwe-s-state-of-perpetual-crisis',
      pubDate: new Date('2025-09-15').toISOString()
    },
    {
      title: 'Zimbabwe\'s new ZiG currency doomed by lack of transparency',
      source: 'ISS Africa',
      link: 'https://issafrica.org/iss-today/zimbabwe-s-new-zig-doomed-by-overall-lack-of-transparency',
      pubDate: new Date('2025-04-20').toISOString()
    },
    {
      title: 'Million Man March against term extension fails amid heavy security',
      source: 'Semafor',
      link: 'https://www.semafor.com/article/10/31/2025/zimbabwe-tries-to-drop-us-dollar-mnangagwa-extends-mandate',
      pubDate: new Date('2025-10-17').toISOString()
    },
    {
      title: 'Zimbabwe renews efforts to ditch US dollar by 2030',
      source: 'Semafor',
      link: 'https://www.semafor.com/article/10/31/2025/zimbabwe-tries-to-drop-us-dollar-mnangagwa-extends-mandate',
      pubDate: new Date('2025-10-31').toISOString()
    },
    {
      title: 'IMF projects 6% economic growth for Zimbabwe in 2025',
      source: 'IMF',
      link: 'https://www.imf.org/en/Countries/ZWE',
      pubDate: new Date('2025-11-01').toISOString()
    },
    {
      title: 'Zimbabwe: Five reasons why the ZiG currency faces doom',
      source: 'The Africa Report',
      link: 'https://www.theafricareport.com/365976/zimbabwe-five-reasons-why-the-zig-currency-faces-doom/',
      pubDate: new Date('2025-08-15').toISOString()
    },
    {
      title: 'Amid Zimbabwe\'s political crisis, hope and frustration brew',
      source: 'Al Jazeera',
      link: 'https://www.aljazeera.com/features/2025/4/16/amid-zimbabwes-political-crisis-hope-and-frustration-brew',
      pubDate: new Date('2025-04-16').toISOString()
    }
  ]),
  storyCount: 28
}

async function addZimbabwe() {
  console.log('Adding Zimbabwe to database...\n')

  try {
    const result = await prisma.locationSummary.upsert({
      where: {
        name_type_category: {
          name: ZIMBABWE_SUMMARY.name,
          type: ZIMBABWE_SUMMARY.type,
          category: 'all'
        }
      },
      create: {
        name: ZIMBABWE_SUMMARY.name,
        type: ZIMBABWE_SUMMARY.type,
        country: ZIMBABWE_SUMMARY.country,
        lat: ZIMBABWE_SUMMARY.lat,
        lng: ZIMBABWE_SUMMARY.lng,
        category: 'all',
        summary: ZIMBABWE_SUMMARY.summary,
        issues: ZIMBABWE_SUMMARY.issues,
        topStories: ZIMBABWE_SUMMARY.topStories,
        storyCount: ZIMBABWE_SUMMARY.storyCount,
        updatedAt: new Date()
      },
      update: {
        summary: ZIMBABWE_SUMMARY.summary,
        issues: ZIMBABWE_SUMMARY.issues,
        topStories: ZIMBABWE_SUMMARY.topStories,
        storyCount: ZIMBABWE_SUMMARY.storyCount,
        updatedAt: new Date()
      }
    })

    console.log('✅ Zimbabwe added/updated successfully')
    console.log('   ID:', result.id)
    console.log('   Name:', result.name)
    console.log('   Location:', `${result.lat}, ${result.lng}`)
    console.log('   Issues:', JSON.parse(result.issues).length)
    console.log('   Stories:', JSON.parse(result.topStories).length)
    console.log()
  } catch (error) {
    console.error('❌ Error processing Zimbabwe:', error)
    throw error
  }
}

addZimbabwe()
  .catch(console.error)
  .finally(() => prisma.$disconnect())
