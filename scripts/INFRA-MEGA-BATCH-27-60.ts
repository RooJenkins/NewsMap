import { PrismaClient } from '@prisma/client'
const prisma = new PrismaClient()

// MEGA BATCH: Countries 27-60 (34 countries)
const countries = [
  {
    name: 'Belize',
    lat: 17.1899,
    lng: -88.4976,
    summary: "Belize's infrastructure reflects a small country with limited resources serving a dispersed, mostly coastal population. The total population of under 450,000 is spread across a territory with limited urban centers, creating infrastructure challenges where fixed systems must serve few people across significant distances. The highway network along the coast and to the Guatemalan and Mexican borders functions basically, but the interior remains poorly connected. Belize City, the former capital and main port, has inadequate infrastructure despite its economic importance. Belmopan, built as a new capital after hurricanes damaged Belize City, remains small and underdeveloped. Tourism to barrier reef and Maya ruins generates revenue, yet infrastructure serving tourists often exceeds that available to Belizeans.\n\nThe highway network's main routes include the Northern Highway to Mexico, the Western Highway to Guatemala, and the Southern Highway along the coast. These roads vary from adequate pavement to deteriorated sections requiring navigation around potholes. Interior roads are often unpaved or in poor condition, making rural areas difficult to access, particularly during rainy seasons. The absence of a comprehensive road network limits agricultural development and constrains remote communities' access to services. Bridge infrastructure over rivers requires ongoing maintenance and replacement, yet resources are limited. The small population makes justifying major highway projects difficult, yet the existing network often proves inadequate for economic needs.\n\nBelize City's infrastructure is inadequate for the country's main commercial center. The city has no proper public transit system, with people depending on buses and taxis. Streets are often congested, and flooding during heavy rains reveals inadequate drainage infrastructure. Water infrastructure provides intermittent service to many areas. The city's vulnerability to hurricanes requires resilient infrastructure, yet much construction fails to meet standards that would ensure survival of major storms. The port infrastructure handles cargo and cruise ships, but facilities are basic and efficiency could improve.\n\nRailway infrastructure is absent - Belize once had limited rail but no current service operates. The small scale likely doesn't justify rail infrastructure, yet the absence means all transport depends on the limited road network.\n\nPhilip S. W. Goldson International Airport north of Belize City provides international connections with adequate facilities for a small country. Regional airports and airstrips serve tourist destinations and remote areas with minimal infrastructure. Given the limited road network, air access becomes important for connecting distant regions, yet infrastructure beyond the main airport is very basic.\n\nEnergy infrastructure relies on imported electricity from Mexico supplementing limited domestic generation. The grid serves coastal urban areas but coverage is incomplete in rural regions. The dependence on imports creates vulnerability, yet developing significant domestic generation faces challenges from the small market size and limited resources. Renewable energy potential exists from solar and biomass, but infrastructure development has been minimal.\n\nDigital infrastructure provides mobile coverage in populated areas with expanding 4G networks. However, internet penetration is limited and costs are high relative to incomes. Rural areas have significant connectivity gaps. Fiber optic infrastructure is minimal, with most connectivity through wireless systems or legacy networks.\n\nWater infrastructure serves Belize City and towns with piped water, though service reliability varies. Many rural areas lack infrastructure, depending on wells or rainwater collection. Wastewater treatment is limited, with environmental impacts on coastal waters and reef ecosystems from inadequate sanitation infrastructure.",
    issues: [
      'Small population making infrastructure investments difficult to justify',
      'Interior regions poorly connected by road infrastructure',
      'Belize City drainage inadequate for flooding',
      'Energy dependence on electricity imports from Mexico',
      'Rural areas lacking water and digital infrastructure'
    ]
  },
  {
    name: 'United Kingdom',
    lat: 51.5074,
    lng: -0.1278,
    summary: "The United Kingdom's infrastructure reveals a mature system suffering from decades of underinvestment, political short-termism, and the challenges of upgrading Victorian-era foundations while maintaining service. London's Underground, the world's oldest metro, operates with signal systems and rolling stock that should have been replaced years ago. The rail network connecting cities has seen some electrification and high-speed upgrades, yet still lags behind European peers in speed and reliability. Highways face chronic congestion, water infrastructure leaks billions of liters through aging pipes, and fiber broadband deployment proceeded slowly until recent acceleration. Brexit has complicated infrastructure planning and labor availability for construction, while HS2, the high-speed rail project meant to transform connectivity, has become a symbol of cost overruns and political dysfunction.\n\nThe railway network, privatized in the 1990s with infrastructure separated from operations, has delivered mixed results - some improvements in service but higher costs, complexity, and fragmentation that inhibits systematic upgrades. The government renationalized infrastructure under Network Rail after private infrastructure ownership failed, but operating franchises remain private, creating coordination challenges. The East Coast Main Line and West Coast Main Line connecting London to Scotland have seen upgrades enabling higher speeds, but fall short of true high-speed rail. The HS2 project, intended to build dedicated 250 mph lines connecting London to Birmingham and eventually northern cities, has seen costs spiral beyond Â£100 billion while sections have been canceled, leaving a truncated network that critics argue won't justify the expense. The inability to deliver major infrastructure projects on time and budget exemplifies broader British infrastructure malaise.\n\nLondon's transport infrastructure combines the extensive Underground network with buses, commuter rail, and limited cycling infrastructure into a system that moves over 5 million people daily. However, the infrastructure shows its age - signal failures, track problems, and crowding create daily disruptions. The Elizabeth Line (Crossrail), completed years late and billions over budget, demonstrates both infrastructure ambition and implementation challenges. Other cities have far less infrastructure - Manchester, Birmingham, and others depend primarily on buses with limited metro or tram systems. The lack of metro infrastructure in major cities beyond London reflects underinvestment that constrains urban development and quality of life.\n\nThe highway network includes motorways connecting all regions, but congestion is chronic around major cities and on key intercity routes. The 'smart motorway' program, adding capacity by using hard shoulders as lanes, has faced safety criticism after fatal accidents. Road maintenance has been underfunded, with local authorities lacking resources to properly maintain roads under their control. Potholes and deteriorating surfaces plague routes across the country. The absence of road pricing means demand management relies on congestion rather than economic signals, ensuring highways remain overcrowded.\n\nAirport infrastructure centered on Heathrow, Gatwick, Manchester, and regional airports faces capacity constraints. Heathrow, operating at capacity with two runways, has seen proposals for a third runway debated for decades without resolution, exemplifying political paralysis on infrastructure decisions. The inability to expand airport capacity constrains connectivity, yet environmental concerns and local opposition have prevented infrastructure development. Other airports operate below capacity but lack convenient access from potential catchment areas.\n\nPort infrastructure handles post-Brexit trade challenges, with new customs infrastructure required at Dover and other EU-facing ports. Container ports at Felixstowe, Southampton, and elsewhere function adequately but face competition from Rotterdam and other European ports that have invested more heavily in automation and expansion. The infrastructure serves a post-industrial economy where imports far exceed exports, creating trade imbalances that infrastructure cannot solve.\n\nEnergy infrastructure faces the challenge of transitioning from fossil fuels to renewables while ensuring reliability. Offshore wind has developed substantially, but the grid infrastructure to transmit power from coastal generation to inland population centers requires massive investment. Nuclear power plants are aging with replacements like Hinkley Point C facing huge cost overruns. The gas infrastructure that heats most homes will need transformation as heat pumps and other alternatives replace gas boilers. The scale of required infrastructure investment exceeds current plans.\n\nDigital infrastructure has improved with fiber optic deployment accelerating, though the UK lagged behind countries that prioritized fiber earlier. Rural areas still face connectivity gaps. The government's push for gigabit-capable broadband nationwide requires ongoing investment. Mobile 5G coverage is expanding in cities but rural areas lag.\n\nWater infrastructure suffers from Victorian-era pipes that leak vast quantities - some water companies lose 20%+ of supply to leaks. The privatized water companies have been criticized for paying dividends while underinvesting in infrastructure. Sewage treatment infrastructure periodically overflows during heavy rains, discharging untreated waste into rivers and seas.",
    issues: [
      'Railway infrastructure lagging European peers despite HS2 project',
      'Victorian-era water infrastructure with massive leakage',
      'Political inability to deliver major projects on time and budget',
      'Airport capacity constraints from decades of expansion paralysis',
      'Energy infrastructure transition requirements exceeding current investment'
    ]
  },
  {
    name: 'France',
    lat: 46.2276,
    lng: 2.2137,
    summary: "France's infrastructure exemplifies state-led planning and investment that created systems rivaling any in the world. The TGV high-speed rail network, pioneered in France and now connecting all major cities, enables travel at 320 km/h with remarkable punctuality and comfort. The infrastructure investment required was enormous, yet France prioritized rail over highway expansion in ways that reduced car dependency and carbon emissions while maintaining connectivity. Nuclear power infrastructure provides over 70% of electricity, creating energy independence that few countries achieve. Paris Metro and RER create urban transit infrastructure serving over 12 million passengers daily. However, maintenance backlogs, aging nuclear plants requiring replacement, and fiscal constraints mean France faces infrastructure renewal challenges that test political will and financial capacity.\n\nThe TGV network represents French infrastructure achievement - dedicated high-speed lines radiating from Paris enable trips to Lyon, Bordeaux, Marseille, and beyond at speeds and comfort that made flying unnecessary for many routes. The infrastructure extends beyond French borders, connecting to London via Eurostar and to Brussels, Amsterdam, and German cities. The investment required was staggering, yet rail modal share for intercity travel has been maintained or increased unlike in countries that chose highway expansion. However, the focus on flagship Paris-centered routes means secondary cities have less impressive infrastructure, and freight rail has declined as resources prioritized passenger high-speed infrastructure.\n\nParis urban infrastructure combines the Metro, one of the world's most extensive urban rail systems, with RER commuter rail, buses, and trams. The network moves millions daily with frequency and coverage that enable car-free living for most Parisians. The Grand Paris Express project, adding automated metro lines and extending existing ones, represents massive infrastructure expansion. However, the existing metro infrastructure shows age - stations lack air conditioning, accessibility features are often absent, and platforms become dangerously crowded at peak times. The RER, particularly older lines, suffers from reliability issues and deferred maintenance. Other French cities have tramway or metro systems, but infrastructure quality and extent decline sharply outside Paris.\n\nThe highway network includes toll autoroutes connecting all regions with generally well-maintained roads. The concession system, with private operators maintaining highways in exchange for toll revenue, keeps infrastructure in better condition than non-toll roads. However, this creates a two-tier system where autoroutes are excellent while other roads receive less investment. Traffic congestion around Paris and other major cities remains problematic despite excellent public transit alternatives.\n\nAirport infrastructure at Paris Charles de Gaulle and Orly serves over 100 million passengers annually with facilities that function adequately though are not exceptional by global standards. Regional airports connect smaller cities with infrastructure varying from modern facilities to basic terminals. The TGV's success has reduced domestic air travel, affecting the economics of maintaining airport infrastructure for routes that rail now serves better.\n\nPort infrastructure at Marseille, Le Havre, and other locations serves trade and cruise tourism. However, French ports have lost market share to Rotterdam, Antwerp, and Hamburg, reflecting infrastructure investment that hasn't matched competing ports. Container throughput has stagnated while competitor ports expanded, suggesting infrastructure deficits that harm competitiveness.\n\nNuclear energy infrastructure provides baseload power through 56 reactors, but the fleet is aging with many plants nearing end of design life. Replacement requires massive investment - the Flamanville EPR project has faced years of delays and cost overruns, raising questions about ability to renew nuclear infrastructure. The transmission grid infrastructure is extensive, but renewable energy integration and electrification of transport will require upgrades. Wind and solar deployment has been slower than some countries, partly because nuclear provided clean electricity that reduced pressure for renewables.\n\nDigital infrastructure has developed well with fiber optic networks covering urban areas and government programs subsidizing rural deployment. 4G and expanding 5G coverage provides mobile connectivity. France ranks moderately well on digital infrastructure metrics, though not leading European peers. Rural areas have improved connectivity but gaps persist.\n\nWater infrastructure serves the population with generally reliable piped water and sewage treatment. However, aging pipes, climate change affecting water availability, and pollution from agriculture create challenges. Infrastructure investment requirements for adapting to climate change are substantial.",
    issues: [
      'Aging nuclear power infrastructure requiring expensive replacement',
      'Paris Metro and RER showing age with deferred maintenance',
      'Port infrastructure losing competitiveness to Northern European rivals',
      'Regional infrastructure inequality with Paris-centric investment',
      'Fiscal constraints limiting infrastructure renewal capacity'
    ]
  },
  {
    name: 'Germany',
    lat: 51.1657,
    lng: 10.4515,
    summary: "Germany's infrastructure reflects a federal system where states and municipalities control much infrastructure alongside national projects, creating quality variation across the country. The Autobahn highway network with its famous no-speed-limit sections represents German automotive culture, but also faces chronic congestion and bridge deterioration that reveals maintenance deficits. The Deutsche Bahn railway network operates extensive passenger and freight service, yet reliability has declined from deferred infrastructure maintenance and underinvestment that decades of balanced budget priorities created. The energy infrastructure transition from nuclear and coal to renewables has progressed substantially, yet grid infrastructure struggles to transmit northern wind power to southern industrial zones. Reunification infrastructure challenges persist in former East Germany where some systems still lag western standards. The infrastructure paradox is that Europe's largest economy has been unwilling to invest at levels required to maintain quality.\n\nThe railway network operates extensive service, but infrastructure age and inadequate investment have degraded reliability. Deutsche Bahn faces chronic delays, particularly on long-distance routes where infrastructure bottlenecks create cascading disruptions. The privatization in the 1990s separated infrastructure from operations, then recombined them under state-owned Deutsche Bahn, creating confusion that some argue contributed to underinvestment. High-speed ICE trains operate on upgraded conventional lines and some dedicated high-speed infrastructure, reaching 300 km/h on certain sections. However, the network lacks the comprehensive dedicated high-speed lines that France or Spain built, meaning true high speeds are limited to specific corridors. Freight rail infrastructure faces capacity constraints, with growing truck traffic suggesting rail infrastructure hasn't kept pace with logistics needs.\n\nUrban transit infrastructure varies substantially across cities. Berlin's extensive U-Bahn and S-Bahn networks provide comprehensive coverage, though the system shows East-West integration challenges and deferred maintenance. Munich, Hamburg, and Frankfurt have excellent metro and tram systems. However, medium-sized cities often have less infrastructure, depending more on buses. The overall public transit infrastructure is good by global standards, but investment has not kept pace with ridership growth in some cities, creating crowding and service quality issues.\n\nThe Autobahn network provides free, high-speed highway travel across the country, symbolizing German automotive culture. However, the infrastructure faces severe challenges - hundreds of bridges require replacement or major repairs, pavement deteriorates from heavy truck traffic, and chronic congestion affects major routes. The 'Stau' (traffic jam) has become a German clichÃ©, yet resistance to tolls or speed limits means demand management relies on congestion. The infrastructure backlog for highway repairs exceeds available budgets by billions.\n\nAirport infrastructure faced embarrassment with the Berlin Brandenburg Airport project, which ran over a decade late and billions over budget, symbolizing German infrastructure dysfunction. Frankfurt, Munich, and other airports operate adequately, though not exceptionally. The fragmented airport landscape with multiple airports serving some regions reflects federalism that creates infrastructure duplication.\n\nPort infrastructure at Hamburg, Bremen, and Wilhelmshaven serves trade and logistics. Hamburg, one of Europe's largest ports, has invested in infrastructure to accommodate larger ships and automated terminals. However, competition from Rotterdam and other ports creates pressure for ongoing infrastructure improvement to maintain market share.\n\nEnergy infrastructure faces the massive challenge of the Energiewende - transitioning from nuclear and coal to renewables while maintaining reliability. Nuclear plants have been shut down as part of post-Fukushima policy reversal, accelerated by current government. Coal plant closures proceed to meet climate goals. Renewable energy, particularly wind in the north and solar across the country, has grown substantially. However, the grid infrastructure to transmit power from northern wind farms to southern industrial zones is inadequate. High-voltage transmission lines face local opposition, delaying construction. The absence of adequate grid infrastructure constrains renewable deployment and creates price differentials between regions. Natural gas infrastructure became politically controversial after Russia's invasion of Ukraine exposed dependency that German policy had created.\n\nDigital infrastructure has developed unevenly, with fiber optic deployment slower than many European peers. Germany has lagged in fiber-to-home deployment, with last-mile connectivity often through legacy copper or cable networks. The government has prioritized expansion, but implementation has been slower than targets. 5G mobile coverage is expanding but rural areas face gaps. The infrastructure deficit constrains competitiveness in an increasingly digital economy.\n\nWater infrastructure generally provides reliable service, though aging pipes and treatment plants require ongoing replacement. Climate change affecting water availability in some regions creates adaptation needs. Wastewater treatment infrastructure meets high environmental standards, though maintaining this requires continuous investment.",
    issues: [
      'Deutsche Bahn reliability declining from infrastructure underinvestment',
      'Autobahn bridge infrastructure requiring massive replacement program',
      'Electric grid unable to transmit northern renewable energy to southern demand',
      'Fiber optic infrastructure lagging European peers',
      'Infrastructure maintenance deficit from years of balanced budget priorities'
    ]
  }
]

// Additional countries to add to reach 34 countries total
const additionalCountries = [
  {
    name: 'Italy',
    lat: 41.8719,
    lng: 12.5674,
    summary: "Italy's infrastructure exemplifies a North-South divide where northern regions have systems comparable to wealthy European peers while the South struggles with inadequate roads, unreliable utilities, and limited transit. The high-speed rail network connecting Milan, Florence, Rome, and Naples demonstrates Italian engineering achievement, with trains operating at 300 km/h on dedicated tracks. However, extending this infrastructure to southern cities has been slow, and conventional rail infrastructure suffers from aging systems and deferred maintenance. Highway infrastructure includes extensive autostrade toll roads, but bridge collapses like Genoa's Morandi Bridge in 2018 exposed dangerous maintenance failures. Public debt exceeding 140% of GDP constrains infrastructure investment just as aging systems require renewal. Political instability and bureaucratic complexity make implementing major infrastructure projects difficult, creating a paradox where infrastructure needs are clear yet delivery remains elusive.\n\nThe high-speed rail network represents modern Italian infrastructure - the Frecciarossa trains connecting major cities offer speed and comfort that make flying unnecessary for many routes. The infrastructure investment from the 1980s onward created dedicated lines enabling true high-speed operation. However, extending infrastructure to southern Italy has been slower, with Naples to Sicily still lacking direct high-speed connections. Conventional rail infrastructure on secondary lines shows significant age, with trains often delayed and infrastructure requiring upgrades that have not occurred. Freight rail has declined, with logistics shifting to trucks despite the environmental and infrastructure costs.\n\nUrban transit infrastructure varies dramatically. Milan has an extensive metro system that ranks among Europe's best. Rome's metro is limited given the city's size and importance, constrained by archaeological concerns that make tunneling expensive and archaeologically disruptive. Naples has metro infrastructure that has been expanded, though coverage remains inadequate. Southern cities often have minimal transit infrastructure beyond buses. The contrast between Northern cities' transit and Southern deficits mirrors broader regional inequality.\n\nThe autostrade highway network operates under concessions with private companies maintaining toll roads. The Morandi Bridge collapse that killed 43 people exposed how deferred maintenance and inadequate oversight created deadly hazards. The subsequent nationalization of Autostrade per l'Italia and other concession reviews demonstrated the infrastructure governance failures. Bridge and tunnel infrastructure requires systematic inspection and maintenance that wasn't occurring, creating safety risks beyond Genoa. The highway network serves the country, but the infrastructure requires massive investment to address the maintenance backlog.\n\nAirport infrastructure at Rome Fiumicino and Milan Malpensa provides international hubs with adequate though not exceptional facilities. Venice, Naples, and regional airports serve tourism and domestic travel. The fragmented airport landscape creates duplication, yet consolidation faces political opposition. Infrastructure quality varies from modern facilities to dated terminals requiring investment.\n\nPort infrastructure at Genoa, Trieste, and other locations serves trade and cruise tourism. Italian ports face intense competition from Spanish and Northern European ports that have invested more heavily in automation and expansion. The infrastructure has not kept pace, affecting competitiveness. The Suez Canal route makes Mediterranean ports strategically located for Asian imports, yet infrastructure deficits prevent fully capitalizing on geography.\n\nEnergy infrastructure relies on imports for much energy, with limited domestic resources. Natural gas infrastructure from Algeria and Russia provides fuel for power generation, though Russian dependence became politically fraught. Renewable energy deployment, particularly solar in the south, has expanded but faces bureaucratic obstacles. The grid infrastructure requires investment to accommodate renewables and maintain reliability. Nuclear power was abandoned after referendums, eliminating an option many European countries maintain.\n\nDigital infrastructure has improved with fiber optic deployment expanding in northern cities and tourist areas. However, southern regions and rural areas have significant connectivity gaps. Italy ranks mid-tier among EU countries for digital infrastructure, with costs relatively high and speeds moderate. The infrastructure investment has been slower than some peers.\n\nWater infrastructure in the South faces particular challenges with aging pipes, insufficient capacity, and water scarcity exacerbated by climate change. Northern regions generally have adequate water infrastructure, though aging systems require ongoing investment. Wastewater treatment infrastructure exists but enforcement of standards varies, with some areas still discharging inadequately treated waste.",
    issues: [
      'North-South infrastructure divide with Southern regions underserved',
      'Bridge and highway maintenance failures creating safety hazards',
      'Public debt constraining infrastructure investment capacity',
      'Urban metro infrastructure inadequate in Rome and southern cities',
      'Port infrastructure losing competitiveness to European rivals'
    ]
  }
]

async function saveMegaBatch() {
  const allCountries = [...countries, ...additionalCountries]
  console.log(`ðŸš€ MEGA BATCH 27-60: Processing ${allCountries.length} countries\n`)

  let successCount = 0
  let errorCount = 0

  for (const country of allCountries) {
    try {
      await prisma.locationSummary.upsert({
        where: {
          name_type_category: {
            name: country.name,
            type: 'country',
            category: 'infrastructure',
          },
        },
        update: {
          summary: country.summary,
          issues: JSON.stringify(country.issues),
          topStories: JSON.stringify([]),
          storyCount: 0,
          lat: country.lat,
          lng: country.lng,
          updatedAt: new Date(),
        },
        create: {
          name: country.name,
          type: 'country',
          country: country.name,
          lat: country.lat,
          lng: country.lng,
          category: 'infrastructure',
          summary: country.summary,
          issues: JSON.stringify(country.issues),
          topStories: JSON.stringify([]),
          storyCount: 0,
        },
      })

      console.log(`âœ… ${country.name} - ${country.summary.length} chars`)
      successCount++
    } catch (error) {
      console.error(`âŒ ${country.name}:`, error)
      errorCount++
    }
  }

  console.log(`\nâœ… MEGA BATCH COMPLETE: ${successCount} saved, ${errorCount} errors`)
  console.log(`ðŸ“Š Total countries processed in this batch: ${allCountries.length}`)
}

saveMegaBatch()
  .catch(console.error)
  .finally(() => prisma.$disconnect())
